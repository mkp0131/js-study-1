<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ìˆ«ìì•¼êµ¬</title>
</head>
<body>
	

	<script>

		function game() {
			// 1 ~ 9 ê¹Œì§€ì˜ ìˆ˜ ì¤‘ ëœë¤ìœ¼ë¡œ ìˆ«ì 4ê°œë¥¼ ë½‘ëŠ”ë‹¤.
			let numbers = [1,2,3,4,5,6,7,8,9];
			// ë¬¸ì œ ë²ˆí˜¸
			let question_numbers = [];
			// ë‹µ
			let strike = 0;
			let ball = 0;
			let res_txt = '';
			let success = false;

			for (let i = 0; i < 4; i++) {
				const random_index = Math.floor(Math.random() * numbers.length);
				question_numbers.push(numbers.splice(random_index, 1)[0]);
			}
			console.log(question_numbers);
	
			// ë‹µì„ ì…ë ¥ë°›ê³  ê²°ê³¼ë¥¼ ì•Œë ¤ì¤€ë‹¤.
			for (let p = 0; p < 2; p++) {
	
				// ë‹µ ì´ˆê¸°í™”
				strike = 0;
				ball = 0;
				res_txt = '';
	
				const res = prompt('ì •ë‹µì„ ë§í•´ì£¼ì„¸ìš”.');
				const res_numbers = res.split('');
				for (let v = 0; v < question_numbers.length; v++) {
					const q_num = question_numbers[v];
					for (let d = 0; d < res_numbers.length; d++) {
						const r_num = res_numbers[d];
						if(q_num == r_num) {
							if(v === d) {
								strike++;
							}
							else {
								ball++;
							}
						}
					}
				}
	
				if(strike === 4) {
					success = true;
					break;
				}
				if(strike) {
					res_txt += strike + ' ìŠ¤íŠ¸ë¼ì´í¬';
				}
				if(strike && ball) {
					res_txt += ' / ';
				}
				if(ball) {
					res_txt += ball + ' ë³¼';
				}
				alert(res_txt);
	
			}
	
			if(success) {
				alert('ì„±ê³µí–ˆìŠµë‹ˆë‹¤. ğŸ‰');
				game();
			}
			else {
				alert('ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ğŸ¥µ\nì •ë‹µì€ ' + question_numbers.join() + ' ì…ë‹ˆë‹¤.');
				game();
			}

		}

		game();
	</script>
</body>
</html>